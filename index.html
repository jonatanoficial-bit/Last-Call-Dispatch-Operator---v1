<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>Last Call Dispatch Operator</title>

  <!-- IMPORTANTE: caminhos com ./ e cache-buster -->
  <link rel="stylesheet" href="./style.css?v=20" />
</head>
<body>

  <div id="app">

    <header class="topbar">
      <div class="brand">
        <div class="logoDot"></div>
        <div>
          <div class="title">Last Call Dispatch Operator</div>
          <div class="subtitle">Simulador de Central de EmergÃªncia</div>
        </div>
      </div>

      <div class="hud">
        <div class="hudItem">
          <div class="hudLabel">Turno</div>
          <div class="hudValue" id="hudShift">â€”</div>
        </div>
        <div class="hudItem">
          <div class="hudLabel">Tempo</div>
          <div class="hudValue" id="hudTime">00:00</div>
        </div>
        <div class="hudItem">
          <div class="hudLabel">Pontos</div>
          <div class="hudValue" id="hudScore">0</div>
        </div>
        <div class="hudItem">
          <div class="hudLabel">Chamadas</div>
          <div class="hudValue" id="hudQueue">0</div>
        </div>
      </div>
    </header>

    <main class="layout">

      <!-- ESQUERDA -->
      <section class="panel">
        <h2 class="panelTitle">ConfiguraÃ§Ã£o</h2>

        <div class="card">
          <label class="label">Cidade</label>
          <select id="citySelect" class="select"></select>

          <label class="label mt12">AgÃªncia</label>
          <select id="agencySelect" class="select">
            <option value="police">PolÃ­cia</option>
            <option value="fire">Bombeiros</option>
          </select>

          <label class="label mt12">Dificuldade</label>
          <select id="difficultySelect" class="select">
            <option value="easy">FÃ¡cil</option>
            <option value="normal" selected>Normal</option>
            <option value="hard">Hardcore</option>
          </select>

          <div class="row mt12">
            <button id="btnStartShift" class="btn primary">Iniciar Turno</button>
            <button id="btnEndShift" class="btn danger" disabled>Encerrar Turno</button>
          </div>

          <div class="hint mt10">
            Regra do jogo: vocÃª <b>atende</b> e depois faz <b>despacho manual</b>.
            Se for <b>trote</b>, o correto Ã© <b>encerrar</b>.
          </div>
        </div>

        <h2 class="panelTitle mt16">Unidades</h2>
        <div class="card">
          <div id="unitsList" class="unitsList"></div>
          <div class="hint mt10">Dica: cada unidade tem funÃ§Ã£o (role). Enviar errado dÃ¡ penalidade.</div>
        </div>

        <h2 class="panelTitle mt16">Registro</h2>
        <div class="card logCard">
          <div id="log" class="log"></div>
        </div>
      </section>

      <!-- DIREITA -->
      <section class="panel">
        <h2 class="panelTitle">OperaÃ§Ã£o</h2>

        <div class="card">
          <div class="row">
            <div class="pill" id="pillStatus">Turno parado</div>
            <div class="pill warn" id="pillCallTimer">Sem chamada</div>
          </div>

          <div class="split mt12">

            <!-- CHAMADA -->
            <div class="box">
              <div class="boxTitle">ðŸ“ž Chamada Atual</div>
              <div id="callMeta" class="meta">â€”</div>
              <div id="callText" class="callText">Inicie um turno para receber chamadas.</div>

              <div class="row mt12">
                <button id="btnAnswer" class="btn" disabled>Atender prÃ³xima</button>
                <button id="btnHold" class="btn" disabled>Colocar em espera</button>
              </div>
            </div>

            <!-- DESPACHO -->
            <div class="box">
              <div class="boxTitle">ðŸš“ Despacho Manual</div>
              <div id="dispatchInfo" class="meta">â€”</div>

              <label class="label mt12">Escolha a unidade</label>
              <select id="dispatchUnitSelect" class="select" disabled></select>

              <div class="row mt12">
                <button id="btnDispatch" class="btn primary" disabled>Despachar</button>
                <button id="btnDismiss" class="btn" disabled>Encerrar chamada</button>
              </div>

              <div class="hint mt10">
                VocÃª pontua por escolher a unidade certa (ou encerrar trote) dentro do tempo.
              </div>
            </div>

          </div>
        </div>

        <h2 class="panelTitle mt16">Fila de Chamadas</h2>
        <div class="card">
          <div id="queueList" class="queueList">â€”</div>
        </div>

        <h2 class="panelTitle mt16">Resumo do Turno</h2>
        <div class="card">
          <div id="shiftSummary" class="summary">Nenhum turno ativo.</div>
        </div>

      </section>

    </main>
  </div>

  <!-- Dados -->
  <script src="./data/cities.js?v=20"></script>
  <script src="./data/calls.js?v=20"></script>

  <!-- Game -->
  <script src="./main.js?v=20"></script>
</body>
</html>